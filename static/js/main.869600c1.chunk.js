(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),c=a.n(o),l=(a(15),a(1)),i=a(9),s=a(6),u=a(7),p=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(s.a)(this,e),this.headers=n,this.baseUrl=a}return Object(u.a)(e,[{key:"getInitialCards",value:function(){return fetch(this.baseUrl+"/cards",{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: "+e.status)})).catch((function(e){return console.log(e)}))}},{key:"getUserInfo",value:function(){return fetch(this.baseUrl+"/users/me",{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){return console.log(e)}))}},{key:"newCard",value:function(e){var t=e.name,a=e.link;return fetch(this.baseUrl+"/cards",{method:"POST",headers:this.headers,body:JSON.stringify({name:t,link:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){return console.log(e)}))}},{key:"deleteCard",value:function(e){return fetch(this.baseUrl+"/cards/"+e,{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){return console.log(e)}))}},{key:"updateLike",value:function(e){var t=e.cardLiked,a=e.cardId;return fetch(this.baseUrl+"/cards/likes/"+a,{method:t?"PUT":"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){return console.log(e)}))}},{key:"editUserInfo",value:function(e){var t=e.name,a=e.about;return fetch(this.baseUrl+"/users/me",{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t,about:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){return console.log(e)}))}},{key:"setUserAvatar",value:function(e){return fetch(this.baseUrl+"/users/me/avatar",{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){return console.log(e)}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-1",headers:{authorization:"221729e2-57e6-4114-b977-8051f88d50cb","Content-Type":"application/json"}});var m=function(e){return r.a.createElement("li",{className:"card","data-id":"#"},r.a.createElement("button",{type:"button",className:"button card__delete-button","aria-label":"Delete Button"}),r.a.createElement("img",{className:"card__img",alt:e.card.name,src:e.card.link,onClick:function(){e.onCardClick(e.card)}}),r.a.createElement("div",{className:"card__wrapper"},r.a.createElement("h3",{className:"card__name"},e.card.name),r.a.createElement("div",{className:"card__like"},r.a.createElement("button",{type:"button",className:"button card__like-button","aria-label":"Like Button"}),r.a.createElement("span",{className:"card__like-count"},"1"))))};var d=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),d=u[0],_=u[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),b=h[0],E=h[1],N=Object(n.useState)([]),g=Object(l.a)(N,2),v=g[0],k=g[1];return r.a.useEffect((function(){p.getUserInfo().then((function(e){c(e.name),_(e.about),E(e.avatar)})).catch((function(e){return console.log(e)}))}),[o,d,b]),r.a.useEffect((function(){p.getInitialCards().then((function(e){e.forEach((function(t){k([].concat(Object(i.a)(e),[t]))}))})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement("main",{className:"content"},r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__avatar"},r.a.createElement("img",{className:"profile__avatar-img",src:b,alt:"profile avatar"}),r.a.createElement("button",{onClick:e.onEditAvatar,className:"button profile__button_role_edit-avatar"})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h1",{className:"profile__title"},o),r.a.createElement("button",{onClick:e.onEditProfile,className:"button profile__button profile__button_role_edit"}),r.a.createElement("p",{className:"profile__job"},d)),r.a.createElement("button",{onClick:e.onAddPlace,className:"button profile__button profile__button_role_add"})),r.a.createElement("section",{className:"cards"},r.a.createElement("ul",{className:"cards__list"},v.map((function(t,a){return r.a.createElement(m,{key:a,card:t,onCardClick:e.onCardClick})})))))},_=a(8),f=a.n(_);var h=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{className:"logo",src:f.a,alt:"logo"}))};var b=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Around The U.S."))};var E=function(e){var t=e.isOpen?"popup_opened":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"popup popup_type_".concat(e.name," ").concat(t)},r.a.createElement("div",{className:"popup__container popup__container_form"},r.a.createElement("button",{className:"button popup__button popup__button_role_close",onClick:e.onClose}),r.a.createElement("form",{className:"popup__form",action:"#",name:"profile-edit",noValidate:!0},r.a.createElement("h2",{className:"popup__title"},e.title),e.children,r.a.createElement("button",{className:"button popup__button popup__button_role_save",type:"submit"},"Save")))))};var N=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"popup popup_type_image ".concat(e.card?"popup_opened":"")},r.a.createElement("div",{className:"popup__container"},r.a.createElement("img",{className:"popup__img",alt:"",src:e.card&&e.card.link}),r.a.createElement("p",{className:"popup__img-title"},e.card&&e.card.name),r.a.createElement("button",{className:"button popup__button popup__button_role_close","aria-label":"Close Image",onClick:e.onClose}))))};var g=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),_=m[0],f=m[1],g=Object(n.useState)(null),v=Object(l.a)(g,2),k=v[0],j=v[1];function y(){j(null),o(!1),u(!1),f(!1)}return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement(d,{onEditProfile:function(){o(!0)},onAddPlace:function(){u(!0)},onEditAvatar:function(){f(!0)},onCardClick:function(e){j(e)}}),r.a.createElement(b,null),r.a.createElement(E,{name:"edit",title:"Edit Profile",isOpen:a,onClose:y},r.a.createElement("label",{className:"popup__label",htmlFor:"name-input"},r.a.createElement("input",{className:"popup__field popup__field_name",name:"name-input",id:"name-input",type:"text",placeholder:"Name",pattern:"[A-Za-z -]+",minLength:2,maxLength:40,required:!0}),r.a.createElement("span",{className:"popup__field-error",id:"name-input-error"})),r.a.createElement("label",{className:"popup__label",htmlFor:"job-input"},r.a.createElement("input",{className:"popup__field popup__field_job",name:"job-input",id:"job-input",type:"text",placeholder:"About Me",minLength:2,maxLength:200,required:!0}),r.a.createElement("span",{className:"popup__field-error",id:"job-input-error"}))),r.a.createElement(E,{name:"edit-pic",title:"Change Userpic",isOpen:_,onClose:y},r.a.createElement("label",{className:"popup__label"},r.a.createElement("input",{className:"popup__field popup__field_edit-pic",name:"edit-pic",id:"edit-pic",type:"url",placeholder:"Image Link",required:!0}),r.a.createElement("span",{className:"popup__field-error",id:"edit-pic-error"}))),r.a.createElement(E,{name:"add-place",title:"New Place",isOpen:s,onClose:y},r.a.createElement("label",{className:"popup__label"},r.a.createElement("input",{className:"popup__field popup__field_place_name",id:"place-input",name:"place-input",type:"text",placeholder:"Title",minLength:1,maxLength:30,required:!0}),r.a.createElement("span",{className:"popup__field-error",id:"place-input-error"})),r.a.createElement("label",{className:"popup__label"},r.a.createElement("input",{className:"popup__field popup__field_place_image",name:"image-input",id:"image-input",type:"url",placeholder:"Image Link",required:!0}),r.a.createElement("span",{className:"popup__field-error",id:"image-input-error"}))),r.a.createElement(E,{name:"delete",title:"Are you sure?"}),r.a.createElement(N,{card:k,onClose:y}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a.p+"static/media/logo.782b5eb4.svg"}},[[10,1,2]]]);
//# sourceMappingURL=main.869600c1.chunk.js.map